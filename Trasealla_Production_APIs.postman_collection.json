{
  "info": {
    "name": "Trasealla - Production APIs",
    "description": "Production-ready travel agency APIs - Flights, Hotels, Tours, Visas, Payments & More",
    "_postman_id": "trasealla-prod-v1",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "2.0.0"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{authToken}}",
        "type": "string"
      }
    ]
  },
  "item": [
    {
      "name": "🔐 Authentication & Users",
      "item": [
        {
          "name": "Register",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.token) {",
                  "        // Save to both collection and environment variables",
                  "        pm.collectionVariables.set('authToken', jsonData.data.token);",
                  "        pm.collectionVariables.set('userId', jsonData.data.user.id);",
                  "        ",
                  "        // Also save to environment if one is active",
                  "        if (pm.environment.name) {",
                  "            pm.environment.set('authToken', jsonData.data.token);",
                  "            pm.environment.set('userId', jsonData.data.user.id);",
                  "        }",
                  "        ",
                  "        console.log('✅ Registration Successful!');",
                  "        console.log('🎫 Token saved and ready to use!');",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"email\": \"john.doe@example.com\",\n  \"password\": \"SecurePass123!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "register"]
            }
          }
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    ",
                  "    // Save to both collection and environment variables",
                  "    pm.collectionVariables.set('authToken', jsonData.data.token);",
                  "    pm.collectionVariables.set('refreshToken', jsonData.data.refreshToken || '');",
                  "    pm.collectionVariables.set('userId', jsonData.data.user.id);",
                  "    ",
                  "    // Also save to environment if one is active",
                  "    if (pm.environment.name) {",
                  "        pm.environment.set('authToken', jsonData.data.token);",
                  "        pm.environment.set('refreshToken', jsonData.data.refreshToken || '');",
                  "        pm.environment.set('userId', jsonData.data.user.id);",
                  "    }",
                  "    ",
                  "    console.log('✅ Login Successful!');",
                  "    console.log('👤 User:', jsonData.data.user.firstName + ' ' + jsonData.data.user.lastName);",
                  "    console.log('🔑 Role:', jsonData.data.user.role);",
                  "    console.log('🎫 Token saved and ready to use!');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"osama.admin@yopmail.com\",\n  \"password\": \"Osama123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "login"]
            }
          }
        },
        {
          "name": "Get My Profile",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/auth/me",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "me"]
            }
          }
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PUT",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"phone\": \"+1234567890\",\n  \"nationality\": \"US\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/profile",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "profile"]
            }
          }
        }
      ]
    },
    {
      "name": "✈️ Flights (Amadeus)",
      "description": "Complete flight booking system powered by Amadeus",
      "item": [
        {
          "name": "1️⃣ Search Flights",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.length > 0) {",
                  "        // Save first flight offer",
                  "        pm.collectionVariables.set('confirmedFlightOffer', JSON.stringify(jsonData.data[0]));",
                  "        pm.environment.set('confirmedFlightOffer', JSON.stringify(jsonData.data[0]));",
                  "        console.log('✅ Found', jsonData.data.length, 'flights');",
                  "        console.log('💾 First offer saved. Expires:', jsonData.data[0].expiresAt);",
                  "        console.log('💰 Price:', jsonData.data[0].price.currency, jsonData.data[0].price.total);",
                  "        console.log('');",
                  "        console.log('⚠️  IMPORTANT: Offer expires in ~20-30 minutes!');",
                  "        console.log('📋 Next step: Run \"2️⃣ Confirm Price\" then \"4️⃣ Book Flight\"');",
                  "    } else {",
                  "        console.log('❌ No flights found');",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {"type": "noauth"},
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/flights/search?origin=DXB&destination=CAI&departureDate=2025-10-14&returnDate=2025-10-29&adults=1&travelClass=ECONOMY&currencyCode=USD&provider=duffel",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "search"],
              "query": [
                {"key": "origin", "value": "DXB", "description": "Origin airport (IATA code)"},
                {"key": "destination", "value": "CAI", "description": "Destination airport"},
                {"key": "departureDate", "value": "2025-10-14", "description": "YYYY-MM-DD"},
                {"key": "returnDate", "value": "2025-10-29", "description": "For round trip"},
                {"key": "adults", "value": "1"},
                {"key": "children", "value": "0", "disabled": true},
                {"key": "travelClass", "value": "ECONOMY", "description": "ECONOMY, BUSINESS, FIRST"},
                {"key": "currencyCode", "value": "USD"},
                {"key": "provider", "value": "duffel", "description": "duffel or amadeus"},
                {"key": "nonStop", "value": "false", "disabled": true},
                {"key": "maxResults", "value": "50", "disabled": true}
              ]
            },
            "description": "Search available flights - Auto-saves first offer for booking"
          }
        },
        {
          "name": "🌍 Search Locations (Airports & Cities)",
          "request": {
            "auth": {"type": "noauth"},
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/flights/locations?keyword=dubai&provider=duffel",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "locations"],
              "query": [
                {
                  "key": "keyword",
                  "value": "dubai",
                  "description": "Search keyword (minimum 2 characters)"
                },
                {
                  "key": "provider",
                  "value": "duffel",
                  "description": "duffel or amadeus"
                }
              ]
            },
            "description": "Search airports and cities - Returns both airports and city options"
          }
        },
        {
          "name": "2️⃣ Confirm Price",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.flightOffers && jsonData.data.flightOffers.length > 0) {",
                  "        // Save confirmed offer",
                  "        var confirmedOffer = jsonData.data.flightOffers[0];",
                  "        pm.collectionVariables.set('confirmedFlightOffer', JSON.stringify(confirmedOffer));",
                  "        pm.environment.set('confirmedFlightOffer', JSON.stringify(confirmedOffer));",
                  "        console.log('✅ Price confirmed!');",
                  "        console.log('💰 Final Price:', confirmedOffer.price.currency, confirmedOffer.price.grandTotal);",
                  "        console.log('📋 Next: Run \"4️⃣ Book Flight\" immediately');",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"flightOffer\": {{confirmedFlightOffer}}\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/flights/confirm-price",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "confirm-price"]
            },
            "description": "Confirm current price before booking (paste flight offer from search)"
          }
        },
        {
          "name": "3️⃣ Get Seat Maps",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"flightOffer\": {{confirmedFlightOffer}}\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/flights/seat-maps",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "seat-maps"]
            }
          }
        },
        {
          "name": "4️⃣ Book Flight",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.environment.set('flightOrderId', jsonData.data.order.orderNumber);",
                  "    pm.environment.set('pnr', jsonData.data.order.pnr);",
                  "    console.log('✅ Flight booked! PNR:', jsonData.data.order.pnr);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"flightOffer\": {{confirmedFlightOffer}},\n  \"travelers\": [\n    {\n      \"id\": \"1\",\n      \"firstName\": \"JOHN\",\n      \"lastName\": \"DOE\",\n      \"dateOfBirth\": \"1990-01-01\",\n      \"gender\": \"MALE\",\n      \"email\": \"john@example.com\",\n      \"phoneCountryCode\": \"1\",\n      \"phoneNumber\": \"1234567890\",\n      \"documents\": [\n        {\n          \"documentType\": \"PASSPORT\",\n          \"number\": \"AB123456\",\n          \"expiryDate\": \"2030-01-01\",\n          \"issuanceCountry\": \"US\",\n          \"nationality\": \"US\",\n          \"holder\": true\n        }\n      ]\n    }\n  ],\n  \"contacts\": {\n    \"email\": \"john@example.com\",\n    \"phone\": \"1234567890\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/flights/create-order",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "create-order"]
            }
          }
        },
        {
          "name": "Get My Flight Orders",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/flights/my-orders",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "my-orders"]
            }
          }
        },
        {
          "name": "Get Order by PNR",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/flights/orders/{{pnr}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "orders", "{{pnr}}"]
            }
          }
        },
        {
          "name": "📥 Download Ticket PDF",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/flights/orders/{{flightOrderId}}/ticket/download?travelerIndex=0",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "orders", "{{flightOrderId}}", "ticket", "download"],
              "query": [
                {
                  "key": "travelerIndex",
                  "value": "0",
                  "description": "Index of traveler (0 for first passenger)"
                }
              ]
            },
            "description": "Download e-ticket as PDF"
          }
        },
        {
          "name": "📧 Email Ticket",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"customer@example.com\",\n  \"travelerIndex\": 0\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/flights/orders/{{flightOrderId}}/ticket/email",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "orders", "{{flightOrderId}}", "ticket", "email"]
            },
            "description": "Send e-ticket via email"
          }
        },
        {
          "name": "📧 Send Booking Confirmation",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"customer@example.com\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/flights/orders/{{flightOrderId}}/send-confirmation",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "orders", "{{flightOrderId}}", "send-confirmation"]
            },
            "description": "Send booking confirmation for all travelers"
          }
        },
        {
          "name": "🎫 Get Duffel Order Documents",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/flights/orders/{{flightOrderId}}/documents",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "orders", "{{flightOrderId}}", "documents"]
            },
            "description": "Get available tickets and documents from Duffel API"
          }
        },
        {
          "name": "🎫 Download Duffel E-Ticket (Real)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/flights/orders/{{flightOrderId}}/duffel-ticket",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "orders", "{{flightOrderId}}", "duffel-ticket"]
            },
            "description": "Download real airline e-ticket from Duffel (same as dashboard)"
          }
        },
        {
          "name": "🎫 Download Duffel E-Ticket (Alternative URL)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/flights/orders/{{flightOrderId}}/duffel-eticket",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "orders", "{{flightOrderId}}", "duffel-eticket"]
            },
            "description": "Download real airline e-ticket from Duffel (alternative URL)"
          }
        },
        {
          "name": "🎒 Get Ancillary Services",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"flightOffer\": {{confirmedFlightOffer}}\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/flights/offers/services",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "offers", "services"]
            },
            "description": "Get available ancillary services (baggage, meals, etc.)"
          }
        },
        {
          "name": "🎒 Add Services to Order",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"services\": [\n    {\n      \"serviceId\": \"srv_00009...\",\n      \"quantity\": 1\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/flights/orders/{{flightOrderId}}/add-services",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "orders", "{{flightOrderId}}", "add-services"]
            },
            "description": "Add extra baggage, meals, or other services to existing order"
          }
        },
        {
          "name": "🔄 Get Order Change Options",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"slices\": [\n    {\n      \"origin\": \"DXB\",\n      \"destination\": \"CAI\",\n      \"departure_date\": \"2025-10-20\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/flights/orders/{{flightOrderId}}/change-options",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "orders", "{{flightOrderId}}", "change-options"]
            },
            "description": "Get options for changing flight dates or routes"
          }
        },
        {
          "name": "🔄 Confirm Order Change",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"changeOfferId\": \"och_0000...\",\n  \"payment\": {\n    \"type\": \"balance\",\n    \"amount\": \"50.00\",\n    \"currency\": \"USD\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/flights/orders/{{flightOrderId}}/change",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "orders", "{{flightOrderId}}", "change"]
            },
            "description": "Confirm and execute order change"
          }
        },
        {
          "name": "💰 Get Refund Quote",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/flights/orders/{{flightOrderId}}/refund-quote",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "orders", "{{flightOrderId}}", "refund-quote"]
            },
            "description": "Get estimated refund amount and cancellation policy"
          }
        },
        {
          "name": "💸 Process Refund",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Customer requested cancellation\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/flights/orders/{{flightOrderId}}/refund",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "orders", "{{flightOrderId}}", "refund"]
            },
            "description": "Cancel order and process refund"
          }
        },
        {
          "name": "Cancel Flight Order",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "{{baseUrl}}/api/flights/orders/{{flightOrderId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "orders", "{{flightOrderId}}"]
            }
          }
        },
        {
          "name": "Search Locations (Autocomplete)",
          "request": {
            "auth": {"type": "noauth"},
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/flights/locations?keyword=Dubai",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "locations"],
              "query": [{"key": "keyword", "value": "Dubai"}]
            }
          }
        },
        {
          "name": "Price Analysis",
          "request": {
            "auth": {"type": "noauth"},
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/flights/price-analysis?origin=JFK&destination=DXB&departureDate=2025-12-15",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "price-analysis"],
              "query": [
                {"key": "origin", "value": "JFK"},
                {"key": "destination", "value": "DXB"},
                {"key": "departureDate", "value": "2025-12-15"}
              ]
            }
          }
        },
        {
          "name": "Flight Statistics (Admin)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/flights/stats",
              "host": ["{{baseUrl}}"],
              "path": ["api", "flights", "stats"]
            }
          }
        }
      ]
    },
    {
      "name": "📧 Contact & Communication",
      "item": [
        {
          "name": "Submit Contact Form",
          "request": {
            "auth": {"type": "noauth"},
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"phone\": \"+1234567890\",\n  \"subject\": \"Inquiry about Dubai packages\",\n  \"message\": \"I'm interested in your 5-day Dubai package for 4 people.\",\n  \"inquiryType\": \"booking\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/contact",
              "host": ["{{baseUrl}}"],
              "path": ["api", "contact"]
            }
          }
        },
        {
          "name": "Get All Contacts (Admin)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/contact?status=new&inquiryType=booking",
              "host": ["{{baseUrl}}"],
              "path": ["api", "contact"],
              "query": [
                {"key": "status", "value": "new"},
                {"key": "inquiryType", "value": "booking"}
              ]
            }
          }
        },
        {
          "name": "Respond to Contact (Admin)",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"response\": \"Thank you for your inquiry. We have excellent Dubai packages available. I'll send you details shortly.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/contact/1/respond",
              "host": ["{{baseUrl}}"],
              "path": ["api", "contact", "1", "respond"]
            }
          }
        },
        {
          "name": "Newsletter Subscribe",
          "request": {
            "auth": {"type": "noauth"},
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"subscriber@example.com\",\n  \"name\": \"Jane Smith\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/newsletter/subscribe",
              "host": ["{{baseUrl}}"],
              "path": ["api", "newsletter", "subscribe"]
            }
          }
        }
      ]
    },
    {
      "name": "👥 User Management (Admin)",
      "item": [
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/users?page=1&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users"],
              "query": [
                {"key": "page", "value": "1"},
                {"key": "limit", "value": "20"},
                {"key": "role", "value": "customer", "disabled": true},
                {"key": "search", "value": "", "disabled": true}
              ]
            }
          }
        },
        {
          "name": "Update User Status",
          "request": {
            "method": "PUT",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"active\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/3/status",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "3", "status"]
            },
            "description": "Status: active, inactive, suspended"
          }
        },
        {
          "name": "Get User Statistics",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/users/stats/all",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "stats", "all"]
            }
          }
        }
      ]
    },
    {
      "name": "🏨 Hotels",
      "description": "Hotel search and booking",
      "item": [
        {
          "name": "Search Hotels",
          "request": {
            "auth": {"type": "noauth"},
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/hotels/search?destination=Dubai&checkIn=2025-12-15&checkOut=2025-12-20&adults=2&rooms=1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "hotels", "search"],
              "query": [
                {"key": "destination", "value": "Dubai"},
                {"key": "checkIn", "value": "2025-12-15"},
                {"key": "checkOut", "value": "2025-12-20"},
                {"key": "adults", "value": "2"},
                {"key": "rooms", "value": "1"},
                {"key": "starRating", "value": "4", "disabled": true},
                {"key": "minPrice", "value": "50", "disabled": true},
                {"key": "maxPrice", "value": "500", "disabled": true}
              ]
            }
          }
        },
        {
          "name": "Get Hotel Details",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/hotels/123",
              "host": ["{{baseUrl}}"],
              "path": ["api", "hotels", "123"]
            }
          }
        },
        {
          "name": "Book Hotel",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"hotelId\": 123,\n  \"roomId\": \"deluxe-123\",\n  \"checkIn\": \"2025-12-15\",\n  \"checkOut\": \"2025-12-20\",\n  \"guests\": [\n    {\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\",\n      \"email\": \"john@example.com\"\n    }\n  ],\n  \"specialRequests\": \"Late check-in\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/hotels/book",
              "host": ["{{baseUrl}}"],
              "path": ["api", "hotels", "book"]
            }
          }
        }
      ]
    },
    {
      "name": "🏖️ Tours & Destinations",
      "item": [
        {
          "name": "Get All Destinations",
          "request": {
            "auth": {"type": "noauth"},
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/destinations?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["api", "destinations"],
              "query": [
                {"key": "page", "value": "1"},
                {"key": "limit", "value": "10"},
                {"key": "isPopular", "value": "true", "disabled": true},
                {"key": "country", "value": "UAE", "disabled": true}
              ]
            }
          }
        },
        {
          "name": "Get Destination by ID",
          "request": {
            "auth": {"type": "noauth"},
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/destinations/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "destinations", "1"]
            }
          }
        },
        {
          "name": "Search Tours",
          "request": {
            "auth": {"type": "noauth"},
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/tours?category=Adventure&minPrice=100&maxPrice=1000",
              "host": ["{{baseUrl}}"],
              "path": ["api", "tours"],
              "query": [
                {"key": "category", "value": "Adventure"},
                {"key": "minPrice", "value": "100"},
                {"key": "maxPrice", "value": "1000"},
                {"key": "duration", "value": "5", "disabled": true},
                {"key": "isFeatured", "value": "true", "disabled": true}
              ]
            }
          }
        },
        {
          "name": "Get Tour Details",
          "request": {
            "auth": {"type": "noauth"},
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/tours/123",
              "host": ["{{baseUrl}}"],
              "path": ["api", "tours", "123"]
            }
          }
        },
        {
          "name": "Book Tour",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"tourId\": 123,\n  \"travelDate\": \"2025-12-15\",\n  \"numberOfPeople\": 2,\n  \"travelers\": [\n    {\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\",\n      \"email\": \"john@example.com\",\n      \"phone\": \"+1234567890\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/tours/book",
              "host": ["{{baseUrl}}"],
              "path": ["api", "tours", "book"]
            }
          }
        }
      ]
    },
    {
      "name": "🛂 Visa Services",
      "description": "Visa application and processing",
      "item": [
        {
          "name": "Get Visa Requirements",
          "request": {
            "auth": {"type": "noauth"},
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/visas/requirements?nationality=US&destination=UAE&visaType=tourist",
              "host": ["{{baseUrl}}"],
              "path": ["api", "visas", "requirements"],
              "query": [
                {"key": "nationality", "value": "US"},
                {"key": "destination", "value": "UAE"},
                {"key": "visaType", "value": "tourist"}
              ]
            }
          }
        },
        {
          "name": "Submit Visa Application",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {"key": "visaType", "value": "tourist", "type": "text"},
                {"key": "destinationCountry", "value": "UAE", "type": "text"},
                {"key": "applicantData", "value": "{\"firstName\":\"John\",\"lastName\":\"Doe\",\"passportNumber\":\"AB123456\"}", "type": "text"},
                {"key": "passport", "type": "file", "src": "/path/to/passport.pdf"},
                {"key": "photo", "type": "file", "src": "/path/to/photo.jpg"}
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/api/visas/apply",
              "host": ["{{baseUrl}}"],
              "path": ["api", "visas", "apply"]
            }
          }
        },
        {
          "name": "Get My Visa Applications",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/visas/applications",
              "host": ["{{baseUrl}}"],
              "path": ["api", "visas", "applications"]
            }
          }
        },
        {
          "name": "Get Application Status",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/visas/applications/VISA-2024-001/status",
              "host": ["{{baseUrl}}"],
              "path": ["api", "visas", "applications", "VISA-2024-001", "status"]
            }
          }
        },
        {
          "name": "Update Application Status (Admin)",
          "request": {
            "method": "PUT",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"approved\",\n  \"internalNotes\": \"All documents verified. Visa approved.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/visas/applications/VISA-2024-001/status",
              "host": ["{{baseUrl}}"],
              "path": ["api", "visas", "applications", "VISA-2024-001", "status"]
            }
          }
        }
      ]
    },
    {
      "name": "💳 Payments",
      "description": "Payment processing for bookings",
      "item": [
        {
          "name": "💰 Quick Pay (Simplified)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.environment.set('paymentId', jsonData.data.payment.id);",
                  "    pm.environment.set('transactionId', jsonData.data.receipt.transactionId);",
                  "    console.log('✅ Payment completed! Transaction:', jsonData.data.receipt.transactionId);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bookingNumber\": \"BKG-FLT-1759996400529\",\n  \"paymentMethod\": \"card\"\n}",
              "options": {
                "raw": {
                  "description": "Simplified payment - auto-completes payment for a booking"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/api/payments/quick-pay",
              "host": ["{{baseUrl}}"],
              "path": ["api", "payments", "quick-pay"]
            },
            "description": "⭐ EASIEST - Pay for a booking in one step (development/testing)"
          }
        },
        {
          "name": "Create Payment Intent",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.environment.set('paymentIntentId', jsonData.data.paymentIntent.id);",
                  "    pm.environment.set('paymentId', jsonData.data.payment.id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bookingId\": \"BKG-FLT-1759996400529\",\n  \"amount\": 3755,\n  \"currency\": \"AED\",\n  \"paymentMethod\": \"card\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/payments/create-intent",
              "host": ["{{baseUrl}}"],
              "path": ["api", "payments", "create-intent"]
            },
            "description": "Step 1: Create payment intent (for Stripe/PayTabs integration)"
          }
        },
        {
          "name": "Process Payment",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"paymentIntentId\": \"{{paymentIntentId}}\",\n  \"paymentMethodId\": \"pm_card_visa\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/payments/process",
              "host": ["{{baseUrl}}"],
              "path": ["api", "payments", "process"]
            },
            "description": "Step 2: Complete payment (confirms payment method)"
          }
        },
        {
          "name": "Get Payment History",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/payments/history?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["api", "payments", "history"],
              "query": [
                {"key": "page", "value": "1"},
                {"key": "limit", "value": "10"},
                {"key": "status", "value": "completed", "disabled": true}
              ]
            }
          }
        },
        {
          "name": "Get Payment Details",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/payments/{{transactionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "payments", "{{transactionId}}"]
            }
          }
        },
        {
          "name": "Request Refund",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"paymentId\": {{paymentId}},\n  \"amount\": 3755,\n  \"reason\": \"Customer requested cancellation\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/payments/refund",
              "host": ["{{baseUrl}}"],
              "path": ["api", "payments", "refund"]
            }
          }
        }
      ]
    },
    {
      "name": "💳 PayTabs (UAE Payment Gateway)",
      "description": "Integrated PayTabs payment for UAE market",
      "item": [
        {
          "name": "⭐ Pay-Then-Book (Safest)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.environment.set('paymentUrl', jsonData.data.payment.paymentUrl);",
                  "    pm.environment.set('paymentId', jsonData.data.payment.id);",
                  "    console.log('✅ Payment URL:', jsonData.data.payment.paymentUrl);",
                  "    console.log('📌 Customer must pay BEFORE flight is booked');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"flightOffer\": {{confirmedFlightOffer}},\n  \"travelers\": [\n    {\n      \"id\": \"1\",\n      \"firstName\": \"OSAMA\",\n      \"lastName\": \"ALAAELDIN\",\n      \"dateOfBirth\": \"1990-01-01\",\n      \"gender\": \"MALE\",\n      \"email\": \"osama@example.com\",\n      \"phoneCountryCode\": \"971\",\n      \"phoneNumber\": \"501234567\",\n      \"documents\": [\n        {\n          \"documentType\": \"PASSPORT\",\n          \"number\": \"AB123456\",\n          \"expiryDate\": \"2030-01-01\",\n          \"issuanceCountry\": \"US\",\n          \"nationality\": \"US\",\n          \"holder\": true\n        }\n      ]\n    }\n  ],\n  \"contacts\": {\n    \"email\": \"osama@example.com\",\n    \"phone\": \"971501234567\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/payments/paytabs/pay-then-book",
              "host": ["{{baseUrl}}"],
              "path": ["api", "payments", "paytabs", "pay-then-book"]
            },
            "description": "Safest flow: Customer pays FIRST, then flight is booked. Zero risk!"
          }
        },
        {
          "name": "Book-And-Pay (Faster)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.environment.set('paymentUrl', jsonData.data.payment.paymentUrl);",
                  "    pm.environment.set('pnr', jsonData.data.flightOrder.pnr);",
                  "    pm.environment.set('bookingNumber', jsonData.data.booking.bookingNumber);",
                  "    console.log('✅ PNR:', jsonData.data.flightOrder.pnr);",
                  "    console.log('💳 Payment URL:', jsonData.data.payment.paymentUrl);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"flightOffer\": {{confirmedFlightOffer}},\n  \"travelers\": [\n    {\n      \"id\": \"1\",\n      \"firstName\": \"OSAMA\",\n      \"lastName\": \"ALAAELDIN\",\n      \"dateOfBirth\": \"1990-01-01\",\n      \"gender\": \"MALE\",\n      \"email\": \"osama@example.com\",\n      \"phoneCountryCode\": \"971\",\n      \"phoneNumber\": \"501234567\",\n      \"documents\": [\n        {\n          \"documentType\": \"PASSPORT\",\n          \"number\": \"AB123456\",\n          \"expiryDate\": \"2030-01-01\",\n          \"issuanceCountry\": \"US\",\n          \"nationality\": \"US\",\n          \"holder\": true\n        }\n      ]\n    }\n  ],\n  \"contacts\": {\n    \"email\": \"osama@example.com\",\n    \"phone\": \"971501234567\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/payments/paytabs/book-and-pay",
              "host": ["{{baseUrl}}"],
              "path": ["api", "payments", "paytabs", "book-and-pay"]
            },
            "description": "Book flight immediately, then collect payment. Faster but slightly risky."
          }
        },
        {
          "name": "Create Payment for Booking",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bookingNumber\": \"{{bookingNumber}}\",\n  \"returnUrl\": \"https://yoursite.com/payment/success\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/payments/paytabs/create",
              "host": ["{{baseUrl}}"],
              "path": ["api", "payments", "paytabs", "create"]
            }
          }
        },
        {
          "name": "Verify Payment",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/payments/paytabs/verify/TST2024001",
              "host": ["{{baseUrl}}"],
              "path": ["api", "payments", "paytabs", "verify", "TST2024001"]
            }
          }
        }
      ]
    },
    {
      "name": "📋 Bookings",
      "item": [
        {
          "name": "Get My Bookings",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/bookings?status=confirmed",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings"],
              "query": [
                {"key": "status", "value": "confirmed"},
                {"key": "type", "value": "flight", "disabled": true}
              ]
            }
          }
        },
        {
          "name": "Get Booking Details",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/bookings/BKG-123",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings", "BKG-123"]
            }
          }
        },
        {
          "name": "Cancel Booking",
          "request": {
            "method": "PUT",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Change of plans\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/bookings/BKG-123/cancel",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings", "BKG-123", "cancel"]
            }
          }
        }
      ]
    },
    {
      "name": "⭐ Reviews & Ratings",
      "item": [
        {
          "name": "Get Reviews for Service",
          "request": {
            "auth": {"type": "noauth"},
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/reviews/tour/123",
              "host": ["{{baseUrl}}"],
              "path": ["api", "reviews", "tour", "123"]
            }
          }
        },
        {
          "name": "Submit Review",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bookingId\": \"BKG-123\",\n  \"reviewType\": \"tour\",\n  \"referenceId\": 123,\n  \"rating\": 5,\n  \"title\": \"Amazing Dubai Tour!\",\n  \"comment\": \"Excellent experience, highly recommended!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/reviews",
              "host": ["{{baseUrl}}"],
              "path": ["api", "reviews"]
            }
          }
        }
      ]
    },
    {
      "name": "🎫 Activities",
      "item": [
        {
          "name": "Search Activities",
          "request": {
            "auth": {"type": "noauth"},
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/activities?destinationId=1&category=Adventure",
              "host": ["{{baseUrl}}"],
              "path": ["api", "activities"],
              "query": [
                {"key": "destinationId", "value": "1"},
                {"key": "category", "value": "Adventure"},
                {"key": "date", "value": "2025-12-15", "disabled": true}
              ]
            }
          }
        },
        {
          "name": "Get Activity Details",
          "request": {
            "auth": {"type": "noauth"},
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/activities/123",
              "host": ["{{baseUrl}}"],
              "path": ["api", "activities", "123"]
            }
          }
        },
        {
          "name": "Book Activity",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"activityId\": 123,\n  \"date\": \"2025-12-16\",\n  \"timeSlot\": \"09:00\",\n  \"participants\": 2\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/activities/book",
              "host": ["{{baseUrl}}"],
              "path": ["api", "activities", "book"]
            }
          }
        }
      ]
    },
    {
      "name": "📊 Reports & Analytics (Admin)",
      "item": [
        {
          "name": "Sales Report",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/reports/sales?startDate=2025-01-01&endDate=2025-12-31&groupBy=month",
              "host": ["{{baseUrl}}"],
              "path": ["api", "reports", "sales"],
              "query": [
                {"key": "startDate", "value": "2025-01-01"},
                {"key": "endDate", "value": "2025-12-31"},
                {"key": "groupBy", "value": "month"}
              ]
            }
          }
        },
        {
          "name": "Revenue Dashboard",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/reports/revenue?period=month",
              "host": ["{{baseUrl}}"],
              "path": ["api", "reports", "revenue"],
              "query": [{"key": "period", "value": "month"}]
            }
          }
        },
        {
          "name": "Booking Metrics",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/reports/bookings-metrics",
              "host": ["{{baseUrl}}"],
              "path": ["api", "reports", "bookings-metrics"]
            }
          }
        }
      ]
    },
    {
      "name": "🔔 Webhooks",
      "item": [
        {
          "name": "Duffel Webhook Handler",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "X-Duffel-Signature", "value": "webhook_signature_here", "description": "Webhook signature for verification"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"event\": \"order.schedule_changed\",\n  \"data\": {\n    \"id\": \"ord_0000...\",\n    \"booking_reference\": \"ABC123\",\n    \"schedule_change\": {\n      \"previous_departure\": \"2025-12-15T10:00:00\",\n      \"new_departure\": \"2025-12-15T11:30:00\"\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/webhooks/duffel",
              "host": ["{{baseUrl}}"],
              "path": ["webhooks", "duffel"]
            },
            "description": "Receive Duffel webhook events (schedule changes, cancellations, etc.)"
          }
        }
      ]
    },
    {
      "name": "Airports",
      "item": [
        {
          "name": "Get All Airports",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/airports?limit=100&active=true",
              "host": ["{{baseUrl}}"],
              "path": ["api", "airports"],
              "query": [
                {
                  "key": "limit",
                  "value": "100",
                  "description": "Maximum number of airports to return"
                },
                {
                  "key": "active",
                  "value": "true",
                  "description": "Filter by active status"
                },
                {
                  "key": "search",
                  "value": "",
                  "description": "Search term for airport code, title, city, or country",
                  "disabled": true
                },
                {
                  "key": "country",
                  "value": "",
                  "description": "Filter by country",
                  "disabled": true
                }
              ]
            },
            "description": "Get all airports with automatic grouping by country"
          }
        },
        {
          "name": "Search Airports (Local DB)",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/airports/search?q=dubai&limit=10&source=local",
              "host": ["{{baseUrl}}"],
              "path": ["api", "airports", "search"],
              "query": [
                {
                  "key": "q",
                  "value": "dubai",
                  "description": "Search query (minimum 2 characters)"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Maximum number of results"
                },
                {
                  "key": "source",
                  "value": "local",
                  "description": "local or duffel"
                }
              ]
            },
            "description": "Search airports from local database (limited to seeded airports)"
          }
        },
        {
          "name": "Search Airports (Duffel API)",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/airports/duffel/search?q=dubai&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["api", "airports", "duffel", "search"],
              "query": [
                {
                  "key": "q",
                  "value": "dubai",
                  "description": "Search query (minimum 1 character)"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Maximum number of results"
                }
              ]
            },
            "description": "Search airports from Duffel API (comprehensive, worldwide, always up-to-date)"
          }
        },
        {
          "name": "Search Airports (Auto-Duffel)",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/airports/search?q=dubai&limit=10&source=duffel",
              "host": ["{{baseUrl}}"],
              "path": ["api", "airports", "search"],
              "query": [
                {
                  "key": "q",
                  "value": "dubai",
                  "description": "Search query"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Maximum number of results"
                },
                {
                  "key": "source",
                  "value": "duffel",
                  "description": "Use Duffel API via source parameter"
                }
              ]
            },
            "description": "Search airports using source=duffel parameter (alternative method)"
          }
        },
        {
          "name": "Get Airport by Code",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/airports/DXB",
              "host": ["{{baseUrl}}"],
              "path": ["api", "airports", "DXB"]
            },
            "description": "Get a single airport by its IATA code"
          }
        },
        {
          "name": "Get Airports by Country",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/airports/country/India",
              "host": ["{{baseUrl}}"],
              "path": ["api", "airports", "country", "India"]
            },
            "description": "Get all airports in a specific country"
          }
        },
        {
          "name": "Create Airport (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"code\": \"JFK\",\n  \"title\": \"John F. Kennedy International Airport\",\n  \"city\": \"New York\",\n  \"country\": \"United States\",\n  \"country_code\": \"US\",\n  \"timezone\": \"America/New_York\",\n  \"latitude\": 40.6413,\n  \"longitude\": -73.7781\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/airports",
              "host": ["{{baseUrl}}"],
              "path": ["api", "airports"]
            },
            "description": "Create a new airport (Admin only)"
          }
        },
        {
          "name": "Bulk Create Airports (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"airports\": [\n    {\n      \"code\": \"LAX\",\n      \"title\": \"Los Angeles International Airport\",\n      \"city\": \"Los Angeles\",\n      \"country\": \"United States\",\n      \"country_code\": \"US\",\n      \"timezone\": \"America/Los_Angeles\",\n      \"latitude\": 33.9416,\n      \"longitude\": -118.4085\n    },\n    {\n      \"code\": \"ORD\",\n      \"title\": \"O'Hare International Airport\",\n      \"city\": \"Chicago\",\n      \"country\": \"United States\",\n      \"country_code\": \"US\",\n      \"timezone\": \"America/Chicago\",\n      \"latitude\": 41.9742,\n      \"longitude\": -87.9073\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/airports/bulk",
              "host": ["{{baseUrl}}"],
              "path": ["api", "airports", "bulk"]
            },
            "description": "Bulk create multiple airports (Admin only)"
          }
        },
        {
          "name": "Update Airport (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Dubai International Airport - Updated\",\n  \"city\": \"Dubai\",\n  \"timezone\": \"Asia/Dubai\",\n  \"latitude\": 25.2532,\n  \"longitude\": 55.3657\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/airports/DXB",
              "host": ["{{baseUrl}}"],
              "path": ["api", "airports", "DXB"]
            },
            "description": "Update an existing airport (Admin only)"
          }
        },
        {
          "name": "Toggle Airport Status (Admin)",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/airports/DXB/toggle",
              "host": ["{{baseUrl}}"],
              "path": ["api", "airports", "DXB", "toggle"]
            },
            "description": "Toggle airport active status (Admin only)"
          }
        },
        {
          "name": "Delete Airport (Admin)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/airports/JFK",
              "host": ["{{baseUrl}}"],
              "path": ["api", "airports", "JFK"]
            },
            "description": "Delete an airport (Admin only)"
          }
        }
      ]
    }
  ],
  "variable": [
    {"key": "baseUrl", "value": "http://localhost:5001", "type": "string"},
    {"key": "authToken", "value": "", "type": "string"},
    {"key": "refreshToken", "value": "", "type": "string"},
    {"key": "userId", "value": "", "type": "string"},
    {"key": "flightOrderId", "value": "", "type": "string"},
    {"key": "pnr", "value": "", "type": "string"},
    {"key": "confirmedFlightOffer", "value": "{}", "type": "string"}
  ]
}
